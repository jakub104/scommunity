(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798d5ed9"],{"0259":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view"},[n("div",{staticClass:"search__users"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchedNick,expression:"searchedNick",modifiers:{trim:!0}}],staticClass:"search__input",attrs:{type:"search",placeholder:" "},domProps:{value:e.searchedNick},on:{input:[function(t){t.target.composing||(e.searchedNick=t.target.value.trim())},e.searchUsers],blur:function(t){return e.$forceUpdate()}}}),n("fa-icon",{staticClass:"search__icon",attrs:{icon:"search"}})],1),n("div",{staticClass:"users"},["..."===e.users?n("fragment",[e._v(" ... ")]):e.users.length?n("fragment",e._l(e.users,(function(t){return n("div",{key:t.nick,staticClass:"user"},[n("router-link",{attrs:{to:{name:"Profile",params:{nick:t.nick}}}},[n("div",{directives:[{name:"bg",rawName:"v-bg:cover.center",value:"https://szulcus.pl/avatar.jpg",expression:"'https://szulcus.pl/avatar.jpg'",arg:"cover",modifiers:{center:!0}}],staticClass:"user__avatar",attrs:{title:t.nick}})]),n("div",{staticClass:"user__nick"},[e._v(e._s(t.nick))]),n("div",{staticClass:"user__button"},[t.notifications.map((function(e){return e.from})).includes(e.owner._id)?n("fa-icon",{attrs:{icon:"user-minus"},on:{click:function(){return e.removeFriendRequest(t._id)}}}):t.friends.map((function(t){return e.n._id})).includes(e.owner._id)?n("fa-icon",{attrs:{icon:"user-friends"}}):t._id===e.owner._id?n("fa-icon",{attrs:{icon:"crown"}}):n("fa-icon",{attrs:{icon:"user-plus"},on:{click:function(){return e.sendFriendRequest(t._id)}}})],1)],1)})),0):n("fragment",[e._v(" Brak wynik√≥w üòï ")])],1)])},s=[],a=(n("c740"),n("498a"),n("96cf"),n("1da1")),i=n("b012"),c=n.n(i),u={name:"Users",data:function(){return{owner:{},users:"...",searchedNick:"",searchFocused:!1}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/users");case 3:n=t.sent,console.log(n),e.users=n.data.users,e.owner=n.data.owner,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{searchUsers:c()(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.target.value.trim(),e.next=3,this.$axios.get("/users/search?nick=".concat(n));case 3:r=e.sent,this.users=r.data.users;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),300),sendFriendRequest:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.post("/users/".concat(e,"/send-friend-request"));case 3:r=n.sent,console.log(r.data),s=t.users.findIndex((function(t){return t._id===e})),t.users[s].notifications.push(r.data.notification._id),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.log(n.t0.response);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},removeFriendRequest:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})))()}}},o=u,l=(n("7a9e"),n("2877")),d=Object(l["a"])(o,r,s,!1,null,"46af730b",null);t["default"]=d.exports},"0e0b":function(e,t,n){},"498a":function(e,t,n){"use strict";var r=n("23e7"),s=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return s(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r ¬†·öÄ‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),s=n("5899"),a="["+s+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},"7a9e":function(e,t,n){"use strict";var r=n("0e0b"),s=n.n(r);s.a},b012:function(e,t){function n(e,t,n){var r,s,a,i,c;function u(){var o=Date.now()-i;o<t&&o>=0?r=setTimeout(u,t-o):(r=null,n||(c=e.apply(a,s),a=s=null))}null==t&&(t=100);var o=function(){a=this,s=arguments,i=Date.now();var o=n&&!r;return r||(r=setTimeout(u,t)),o&&(c=e.apply(a,s),a=s=null),c};return o.clear=function(){r&&(clearTimeout(r),r=null)},o.flush=function(){r&&(c=e.apply(a,s),a=s=null,clearTimeout(r),r=null)},o}n.debounce=n,e.exports=n},c740:function(e,t,n){"use strict";var r=n("23e7"),s=n("b727").findIndex,a=n("44d2"),i=n("ae40"),c="findIndex",u=!0,o=i(c);c in[]&&Array(1)[c]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!o},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},c8d2:function(e,t,n){var r=n("d039"),s=n("5899"),a="‚Äã¬Ö·†é";e.exports=function(e){return r((function(){return!!s[e]()||a[e]()!=a||s[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-798d5ed9.4375e5b2.js.map